---
interface Props {
  type?: "button" | "submit" | "reset";
  variant?: "primary" | "secondary" | "danger";
  class?: string;
  ariaLabel?: string;
  disabled?: boolean;
}

const {
  type = "submit",
  variant = "primary",
  class: className = "",
  ariaLabel,
  disabled = false,
} = Astro.props as Props;

const base =
  "px-4 py-2 rounded font-medium focus:outline-none focus:ring-1 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed";
const variants: Record<string, string> = {
  primary: "bg-bg-button-accent text-fg-inverted focus:ring-bg-button-accent",
  secondary: "bg-bg-muted text-fg-base focus:ring-fg-subtle border",
  danger: "bg-red-600 text-white focus:ring-red-600",
};
---

<button
  type={type}
  class={`${base} ${variants[variant] || variants.primary} ${className}`}
  aria-label={ariaLabel}
  disabled={disabled}
>
  <slot />
</button>
